name: resource-dispatcher
summary: Resource dispatcher in a Rock
description: "Resource dispatcher" # TODO: Write better desc
version: "1.0_beta"
base: ubuntu:22.04
license: Apache-2.0

services:
  resource-dispatcher:
    command: /bin/python3 /app/main.py
    override: replace
    startup: enabled

platforms:
  amd64:

parts:
  resource-dispatcher:
    source: .
    plugin: python
    stage-packages:
      - python3-venv
      - tzdata
    python-requirements:
      - requirements.txt

  resources:
    source: resource_dispatcher
    plugin: dump
    organize:
      "*": "app/"
